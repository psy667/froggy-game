
const randoms = [
    0.5155822527907764,
    0.8459961439859005,
    0.1493628501800237,
    0.3398387948419028,
    0.4664411676629653,
    0.6892833255603033,
    0.2454922946400493,
    0.9781965886610243,
    0.11183995395101787,
    0.38047101068203304,
    0.7341908157555325,
    0.6902620476616231,
    0.04587267274089746,
    0.5946236227763475,
    0.917312025139035,
    0.8169325859535088,
    0.8987492867771911,
    0.2936417324998606,
    0.542469999812899,
    0.8361623096514055,
    0.09972566098376778,
    0.1151159157095567,
    0.48452428256199986,
    0.031869901172397186,
    0.0993376991634437,
    0.20829027658679555,
    0.06026167246145031,
    0.2594882661396406,
    0.7485710865852658,
    0.6413485470241436,
    0.23314960261654694,
    0.025103710592698225,
    0.1658862910439748,
    0.32245883682248666,
    0.22313049779841343,
    0.13105669675634424,
    0.6432438953404971,
    0.775312687796039,
    0.01781801318165732,
    0.46175517837220514,
    0.12986622435953432,
    0.23019570709978154,
    0.23764865625852394,
    0.8294355996462591,
    0.08327094486446429,
    0.42109861602067145,
    0.5460257677346849,
    0.9865291596283083,
    0.31425650408799743,
    0.8073480146178026,
    0.12018555141231524,
    0.30460639658016775,
    0.7067136516764032,
    0.05526125010898708,
    0.6763781302527102,
    0.6478520467403133,
    0.958844178319999,
    0.6336391548699604,
    0.4873160300292405,
    0.32665094099046643,
    0.002447410304552089,
    0.9766485061781909,
    0.5986177815915608,
    0.15051621120279268,
    0.851922258813067,
    0.19799809592004347,
    0.4840036570557785,
    0.8755989252016458,
    0.4283759414894224,
    0.7806204785544023,
    0.4842102453225927,
    0.6569516193901008,
    0.9859795079748624,
    0.753691250761508,
    0.6808973247821525,
    0.38021374592021073,
    0.455611380103511,
    0.026590489759566904,
    0.8009855022674626,
    0.4619606387459505,
    0.07061617507938711,
    0.8769436320462911,
    0.1680904985924625,
    0.1635533553664381,
    0.9372878815158608,
    0.7973411992467685,
    0.7421414102169814,
    0.7023798462762809,
    0.09717265098011008,
    0.6347077122094026,
    0.7529310980653419,
    0.9414879521653593,
    0.48173138308640384,
    0.15631834503750708,
    0.9492393543956258,
    0.09173755947620754,
    0.43499254776172225,
    0.26896108422956744,
    0.868740720659361,
    0.7422957184616827,
    0.5105659737263711,
    0.9329440538180891,
    0.2326698719869874,
    0.37780185699142155,
    0.04779170136907651,
    0.9613111628824569,
    0.26521760752214685,
    0.8141709152773081,
    0.8771882944198347,
    0.419247850194707,
    0.7897127353358717,
    0.007064488343067166,
    0.6574061775805693,
    0.8653585560469865,
    0.4972136034035938,
    0.9225434013085169,
    0.4358548311233269,
    0.4343802064910868,
    0.30647440631419076,
    0.10953098301555242,
    0.45955966273951454,
    0.02253216017060322,
    0.7318260298725509,
    0.28486696834477965,
    0.24854642928946746,
    0.12735548966893462,
    0.3112103826184245,
    0.03769627137577514,
    0.7610858142690502,
    0.9827194783603145,
    0.6603302287130842,
    0.14128270021310274,
    0.42413328877359935,
    0.4723348406086889,
    0.9643925591579433,
    0.3782854356642552,
    0.7831165085398955,
    0.6696944583311409,
    0.28770585884062905,
    0.9224370777312109,
    0.3048792777300332,
    0.42203138816643826,
    0.37621292800469475,
    0.8392425139589103,
    0.7271507786943915,
    0.43736667418885833,
    0.5125655930443805,
    0.5356219840907678,
    0.19124472762471767,
    0.5504543185682305,
    0.4194958626955234,
    0.3751819169283731,
    0.3688946519455253,
    0.017596106438509507,
    0.028104860944257126,
    0.12719820459572684,
    0.6918023085161763,
    0.18567316147762325,
    0.6279276658084789,
    0.5788156510967419,
    0.9724948774728669,
    0.8036689432140225,
    0.8923319464008725,
    0.30759740718177164,
    0.25594427611726955,
    0.5323454839742673,
    0.4399839062005374,
    0.20816786023358702,
    0.29269251884973124,
    0.5034110108438622,
    0.41357726827880414,
    0.2923460470438204,
    0.3975464293238071,
    0.7463529608671396,
    0.6940698595067752,
    0.30291991652484385,
    0.8265983427262716,
    0.21807519047120427,
    0.8640771383207608,
    0.10795776468926577,
    0.8246763285548825,
    0.3200130018610169,
    0.18114924843017388,
    0.977519131402543,
    0.8312870281697462,
    0.09135632997261245,
    0.2652503328516479,
    0.2631868125907372,
    0.9582367794356901,
    0.7066446857561429,
    0.4122283936967991,
    0.5065752177957024,
    0.6912901143215457,
    0.012650149169233127,
    0.6109313529455354,
    0.17605727605053523,
    0.43368543066284015,
    0.7919439168417823,
    0.1868911512392254,
    0.5708354556622965,
    0.7647711612538721,
    0.8184969823251244,
    0.6053176939296586,
    0.12084687522917525,
    0.4089454635031534,
    0.8451786601469455,
    0.2484341677765498,
    0.927333772930591,
    0.527155197829997,
    0.14929061292443147,
    0.8072826722171481,
    0.09781264989986549,
    0.16691632665757516,
    0.9689667049693137,
    0.16935728456546462,
    0.8175476339879886,
    0.014527551998449573,
    0.5757336838191771,
    0.5250440889245703,
    0.7539978876654414,
    0.20746290168939008,
    0.22255097404341562,
    0.9962215676370753,
    0.9033418517267211,
    0.8268622912069797,
    0.4735858060814472,
    0.019837818232819493,
    0.8640769505472832,
    0.5386911459426396,
    0.9145731008985064,
    0.7728472004847425,
    0.09439804798764806,
    0.174417952434883,
    0.73254553484832,
    0.6962901521235727,
    0.6782253605686811,
    0.5881855294718566,
    0.2969899658092342,
    0.5335682922878268,
    0.8946015044653997,
    0.10923025072422521,
    0.5508157372236363,
    0.695864404302502,
    0.4655184482968966,
    0.14161694507706823,
    0.3935726010170074,
    0.23188311668782757,
    0.11929981575022552,
    0.3096428390413809,
    0.5534871436086118,
    0.1344671904806337,
    0.16526397825916783,
    0.4867961984129522,
    0.5590141213771025,
    0.5828055855500096,
    0.258410790070404,
    0.07018658636764419,
    0.12511445098267626,
    0.3059104089881791,
    0.49500827739652475,
    0.7031872625493998,
    0.28037200767183823,
    0.4043701504541699,
    0.262923040841452,
    0.1582352281075906,
    0.2522926496892005,
    0.2787532287714959,
    0.9437811260223554,
    0.22293175583225688,
    0.14398931617489152,
    0.15675881579861317,
    0.07428289277886624,
    0.4997921334023122,
    0.34102007819858915,
    0.6691880484215635,
    0.09436179775238229,
    0.129957786952538,
    0.661510443748797,
    0.7074370742307514,
    0.7028558980895574,
    0.16993562679203966,
    0.3382251354351319,
    0.521965011748332,
    0.13961554523626907,
    0.5035535821499613,
    0.2948694844832187,
    0.11697057889415374,
    0.3376138633227266,
    0.027162812797217217,
    0.4132817827008334,
    0.43648959528301534,
    0.15839668630002213,
    0.12468465093994863,
    0.16573430340804152,
    0.20171605005413895,
    0.40105197861768727,
    0.3294764922997715,
    0.6968801321721487,
    0.7298627580400634,
    0.3283458619096442,
    0.8698241908383343,
    0.824455208349073,
    0.6092681762598383,
    0.20067567761649618,
    0.22595920250381296,
    0.43517744576309914,
    0.9131814605280862,
    0.47807949808111594,
    0.3869264992667706,
    0.4216114699220834,
    0.7747009136411295,
    0.023389859373697863,
    0.9858655967787027,
    0.5966829419119979,
    0.7649833773993985,
    0.2051168669204605,
    0.25336521742497853,
    0.03338440925741437,
    0.27584623312040424,
    0.006008868381163657,
    0.8014392673315874,
    0.8316371160043426,
    0.8127827545593879,
    0.21023407333627953,
    0.9741701440180278,
    0.4962833380742302,
    0.05397462673436726,
    0.19672904614971942,
    0.166434861403168,
    0.8184264290037161,
    0.9609941386102476,
    0.6537390180387644,
    0.3176510605092271,
    0.9213447960291605,
    0.782198677474272,
    0.16057015894203075,
    0.42675414980078796,
    0.3118636326090968,
    0.11996601729712719,
    0.5491096533093689,
    0.30984143658825647,
    0.8925550525198851,
    0.939192664246839,
    0.5935604710920543,
    0.5085849219506885,
    0.783896336380535,
    0.8633593192559577,
    0.6571126277412759,
    0.7217505274548711,
    0.3345134572637457,
    0.852781040568409,
    0.7836565106760046,
    0.6720718655755478,
    0.1688512623405839,
    0.06688814169558199,
    0.7273143655269478,
    0.8275988289974979,
    0.1458140181114599,
    0.4064852992409804,
    0.44424692657274056,
    0.31559175716890864,
    0.17340892369876382,
    0.47479693485873664,
    0.7448349844637682,
    0.9154577664652722,
    0.6233066627289257,
    0.3635360793403346,
    0.0008171216533868764,
    0.957149874291748,
    0.5167024055137003,
    0.45852653358849005,
    0.1278000261291582,
    0.8335805984315938,
    0.38724193573838617,
    0.6783216564434513,
    0.9879294395598168,
    0.8353852859186974,
    0.5412800080339152,
    0.3873461704394979,
    0.5307933519213027,
    0.9473326677080112,
    0.2711957915141012,
    0.4791729879994513,
    0.8927845884798734,
    0.8297845915628822,
    0.8922386995571445,
    0.17224192898505086,
    0.9676696894342086,
    0.7189174881263203,
    0.47980293683763797,
    0.7654481790313754,
    0.03339896931247366,
    0.4787059590015119,
    0.5740492489509498,
    0.7349470022135896,
    0.03305543525258936,
    0.9848390311136278,
    0.046813503667191836,
    0.5149125399445628,
    0.35286454808318013,
    0.416471717563881,
    0.42568773254830417,
    0.9918383411545645,
    0.9668843407776642,
    0.924752355152268,
    0.6120546685786671,
    0.6691169039030794,
    0.005697307986801903,
    0.9148515456220147,
    0.35778545514822213,
    0.44638660268294306,
    0.285839751885959,
    0.17571446309870553,
    0.01295165517900898,
    0.09413926096386371,
    0.4753830173051429,
    0.01757989252900527,
    0.7599021506308806,
    0.9466927318683589,
    0.4462477602607198,
    0.6710475321753184,
    0.7574569685426472,
    0.8967496781638546,
    0.8416770396367025,
    0.429225151770373,
    0.34034235710481886,
    0.6056858559416972,
    0.8654088103045794,
    0.30222455535418935,
    0.6697746382474441,
    0.9469751875534488,
    0.3829397784500378,
    0.0436006857813771,
    0.8757387524825505,
    0.018243298972789423,
    0.9838420561398997,
    0.09295171199375474,
    0.5756944136498903,
    0.9632840707803632,
    0.18248420850232727,
    0.7677519532040693,
    0.06677792182123121,
    0.5029584141398235,
    0.6238896245202853,
    0.8967259745733148,
    0.7734335622131961,
    0.0690212349622229,
    0.2060097550800286,
    0.9032299226249942,
    0.5672594823852853,
    0.3998302072916343,
    0.14612088702864312,
    0.6203412267327707,
    0.3850554148138462,
    0.1338153205664745,
    0.6625280977563998,
    0.7296442481850652,
    0.5541673365628285,
    0.3715166525779875,
    0.2525630644793543,
    0.308642123422996,
    0.5339414902211524,
    0.01352108076988412,
    0.6129738353431102,
    0.595516727260611,
    0.8268203844450439,
    0.8042992908891173,
    0.01887725254922301,
    0.9187992618913585,
    0.22057282406439727,
    0.9769695161641696,
    0.8456635720511936,
    0.37888454878323763,
    0.8270131065120301,
    0.5300498447808847,
    0.9492259807786754,
    0.27541496275736665,
    0.11108353723010744,
    0.6707660001352873,
    0.28749297589413714,
    0.581677716743991,
    0.17043148569216038,
    0.6846967635170407,
    0.4283663555601013,
    0.992918347080474,
    0.12936416342347168,
    0.7892826370664161,
    0.4085293549989707,
    0.9773922914262746,
    0.8998013536438614,
    0.21294237428386453,
    0.8986179198077083,
    0.5571323796028287,
    0.06384767256500234,
    0.641009115558094,
    0.7456479955591345,
    0.2977217491899582,
    0.3149535963795931,
    0.10015308640461285,
    0.5339544185536091,
    0.40218702986376786,
    0.6833715921441224,
    0.5508725376196643,
    0.47157221129814786,
    0.20406109985410614,
    0.408172851618267,
    0.8137260207667597,
    0.7375283010800795,
    0.7848530124571534,
    0.8515279734511932,
    0.3410265358468302,
    0.10637149102324994,
    0.9255605648050874,
    0.5936880036519906,
    0.918150440926156,
    0.5031018159264277,
    0.45650779886872384,
    0.8763739810999599,
    0.44188030277875123,
    0.8507561782759343,
    0.9893499398322124,
    0.022628607960621605,
    0.21556573123659684,
    0.6886512097483064,
    0.920197055510064,
    0.33556492994020726,
    0.5501840249921192,
    0.6082435686810969,
    0.16309357641573252,
    0.2887198533057297,
    0.06573011456058109,
    0.01163472915494801,
    0.8029607770450952,
    0.0905493851515623,
    0.028568408215711938,
    0.6423821683674261,
    0.6533505576152489,
    0.9991457383256628,
    0.6257994571259233,
    0.446675426592851,
    0.4685744487667216,
    0.8379544061059001,
    0.2445956355911758,
    0.3571446724926418,
    0.9530933950575765,
    0.9922605830258353,
    0.14641097752805055,
    0.6894122307933512,
    0.21344276848589527,
    0.5591093831068541,
    0.5029018653813557,
    0.5077963618737357,
    0.3906127997932205,
    0.5128338988995076,
    0.5340549271329622,
    0.5437716099787289,
    0.5633486344318767,
    0.14613666978157502,
    0.4149633327449246,
    0.92768045105827,
    0.6703777102661647,
    0.3751617996974972,
    0.6413308516299216,
    0.5423690474536743,
    0.842154289265316,
    0.6093776168267335,
    0.856508030729284,
    0.043250066945659804,
    0.3133193279368499,
    0.17200504922989213,
    0.7594514479821625,
    0.6647435739819785,
    0.4275649971707588,
    0.282685621111069,
    0.5114101199742458,
    0.08162650902241997,
    0.47271734539065025,
    0.5557775203477582,
    0.5609395249366163,
    0.2280411864590871,
    0.34135812843973656,
    0.2327668004179002,
    0.35864530754472956,
    0.40213844480913963,
    0.19802702318493282,
    0.5186858497233778,
    0.21830452668970768,
    0.9884767498756535,
    0.6967461590130243,
    0.6224919629590812,
    0.32302689689494,
    0.768301973116417,
    0.4703571061553874,
    0.7536884913955666,
    0.8957949692660903,
    0.9564900577769884,
    0.14960897268859596,
    0.3470337021757336,
    0.8599287691866179,
    0.8256169662785852,
    0.9921683580201839,
    0.11925389160342348,
    0.7140690349773446,
    0.7086687120549612,
    0.20422937974799793,
    0.5354259680691322,
    0.13263076857936318,
    0.7868680650959511,
    0.1896673237471347,
    0.15011839184475184,
    0.8192427039179521,
    0.0788173561316633,
    0.2234437265417144,
    0.0408588485639646,
    0.655557222280291,
    0.6889696922647173,
    0.8401244993032856,
    0.8549345536145018,
    0.09842515261383578,
    0.565717614967843,
    0.4787962436332126,
    0.5900894802452924,
    0.11257369936156081,
    0.9809010483274676,
    0.9839356314794073,
    0.3898564078428641,
    0.8551002639297313,
    0.7000148442751823,
    0.6949752547964924,
    0.12118322170883411,
    0.45033681107643553,
    0.8762077870215018,
    0.4417803137898315,
    0.1646520870898326,
    0.09895010372545165,
    0.38437370354523437,
    0.9146729560572173,
    0.7273782382100384,
    0.9413970171067437,
    0.1833455984617528,
    0.5827939310453557,
    0.7609655452545067,
    0.8428341972527464,
    0.7411088243743968,
    0.7179639989023502,
    0.3711836648478747,
    0.8535195128096298,
    0.2440567855169664,
    0.7708335997273437,
    0.25715446193853264,
    0.5742084366630718,
    0.36602744045620617,
    0.26574687951776654,
    0.7316419431312099,
    0.11530055931509353,
    0.9586977759908617,
    0.04135630424882597,
    0.20032638058828367,
    0.3385061914157337,
    0.6289002656251885,
    0.541387442327803,
    0.02826502475886261,
    0.38621648784292917,
    0.6377364255246776,
    0.5415180857681966,
    0.026596284127301528,
    0.5585142317002277,
    0.8357107710991525,
    0.10428744861703154,
    0.20724035894322634,
    0.6310532057485776,
    0.4943241982265193,
    0.8819713683876744,
    0.4306135760143721,
    0.5935437183404875,
    0.7377793947374092,
    0.09891458918784568,
    0.2373833060343612,
    0.34711523910268793,
    0.6051049543281504,
    0.1213788174964614,
    0.7762991979991668,
    0.8355423167208665,
    0.7745835912587918,
    0.9333773792267681,
    0.30680442821708787,
    0.0651526614430632,
    0.8085448538632924,
    0.10915312366926533,
    0.2547150481344246,
    0.8755314122517618,
    0.17282558548169757,
    0.1226601610866388,
    0.5315867649018639,
    0.20580577879758932,
    0.6940757142562171,
    0.48620946685238975,
    0.6270484745012167,
    0.2567446084988516,
    0.725721376104768,
    0.5893359624507761,
    0.4630453827125254,
    0.4470896995818896,
    0.6789079727453581,
    0.4922368127266429,
    0.9686772224289741,
    0.12967400963561537,
    0.6533972966950324,
    0.20661874198185537,
    0.2059116551249368,
    0.3723989100637256,
    0.2577690384098752,
    0.40143530023631246,
    0.693429660321806,
    0.16731570640137416,
    0.1585119546104542,
    0.37188443249285685,
    0.846363894511648,
    0.20005827324103753,
    0.30564187224919936,
    0.5427276366472172,
    0.06586303261735527,
    0.885833416865554,
    0.34811600619054106,
    0.17841241260378882,
    0.24004889312370925,
    0.7682433330444473,
    0.8376568516747949,
    0.3196275386186347,
    0.45079300968687286,
    0.000060081481061624586,
    0.699388828614361,
    0.7025369366321064,
    0.2866639217725675,
    0.5511819191845411,
    0.6076909248919462,
    0.005901895987550976,
    0.43921445356475763,
    0.8739209310131765,
    0.8212519130512113,
    0.8328887666631669,
    0.11565060212942968,
    0.6706519287361463,
    0.12857066918027293,
    0.05615026782108956,
    0.8565040552846398,
    0.5100473729240578,
    0.9191922685768271,
    0.8786782103320182,
    0.5698824404373016,
    0.6526258127399032,
    0.731117728508715,
    0.4315493452858362,
    0.687314269628886,
    0.9742768541258515,
    0.36980533977990915,
    0.021875284830714437,
    0.5657559004719177,
    0.22824851291134662,
    0.15121880546787236,
    0.229512978038226,
    0.29395298475536347,
    0.40902700176637896,
    0.687166359274206,
    0.6031957670501866,
    0.4459257266096499,
    0.0689318406799756,
    0.7434924739136326,
    0.8565083930174843,
    0.026386317796367798,
    0.07499623874493,
    0.5209326031669919,
    0.46765645532121847,
    0.5480822868829577,
    0.30188574068808294,
    0.18434428093245792,
    0.2393854686144724,
    0.13824858074108992,
    0.7652783426500727,
    0.04207150201379217,
    0.2988472792382304,
    0.48199050452362124,
    0.3720555110189485,
    0.47285598103349946,
    0.3066502464589371,
    0.25416165403641644,
    0.7315424408590465,
    0.027256654875483233,
    0.5318177752301937,
    0.10870563214053486,
    0.4920171198321558,
    0.44116596739748837,
    0.6931094528347804,
    0.1139209937109189,
    0.9203316037157784,
    0.36170155578674923,
    0.36795814581902997,
    0.4499792070952935,
    0.5296694740046797,
    0.9009028408572323,
    0.8607633462643804,
    0.2343924423975926,
    0.6627613372985227,
    0.11568043136022255,
    0.40126345857423273,
    0.5562052176967538,
    0.9112994320780775,
    0.8302301539122812,
    0.4669568348663904,
    0.3173783965011223,
    0.13359622362238677,
    0.6178181257058677,
    0.8858832100950526,
    0.9617879556527402,
    0.03022358319377294,
    0.9283920491382499,
    0.25334564628845146,
    0.33877164073739874,
    0.1389600859716078,
    0.295013007410009,
    0.3365330330184195,
    0.3847863665853516,
    0.11315630744697847,
    0.7239057377423582,
    0.2729502309648504,
    0.6346845630531973,
    0.8733265178801588,
    0.24520676210485082,
    0.05433630263905376,
    0.27766779932631325,
    0.20967735388818431,
    0.3139507928621389,
    0.9778456095958858,
    0.5440052098244154,
    0.05862794033756846,
    0.9239012977256954,
    0.9501492068361881,
    0.08088200254289735,
    0.35856008717489085,
    0.6308891208493357,
    0.2513777586435454,
    0.09532153296161305,
    0.36599838836627097,
    0.24451056701700546,
    0.8661271892759969,
    0.5756561851614352,
    0.24045871168258826,
    0.7447953010412869,
    0.8822641982911817,
    0.0731885085787386,
    0.8093575230611798,
    0.4584277740222298,
    0.6558047350142703,
    0.11839357876807544,
    0.3768298204099484,
    0.6814322377727855,
    0.012949273822461582,
    0.383100014751412,
    0.7420679231409936,
    0.507641262250617,
    0.8161488232136587,
    0.6120293775238999,
    0.5287360490388263,
    0.3328869453117391,
    0.31177040712204496,
    0.38554374816999715,
    0.8185530607381709,
    0.8036112862250667,
    0.7290449970664897,
    0.8718627255222703,
    0.6963172443644211,
    0.17791995945917927,
    0.6410556196955218,
    0.2037472574642687,
    0.8772812057619265,
    0.5534599645485831,
    0.8226973129412161,
    0.45389949937023055,
    0.3836354016428839,
    0.9628760788569253,
    0.5750454521511632,
    0.837281857622589,
    0.38334320350551443,
    0.9955154707002958,
    0.7511100743828911,
    0.7100211417524386,
    0.9365699640691765,
    0.200760825872059,
    0.5558041675647314,
    0.4861559601280607,
    0.20444656491515367,
    0.04887232794980356,
    0.7545230776872516,
    0.8774845991438166,
    0.5347990517986136,
    0.19436364654082827,
    0.508615345856593,
    0.7466744926398713,
    0.9590689926937601,
    0.8434830179662085,
    0.7428193400724462,
    0.2837000211215909,
    0.7941343008311946,
    0.27167844610217884,
    0.8081368065455528,
    0.5271688416934037,
    0.7615517552841455,
    0.9455692489642943,
    0.15642885032238185,
    0.3828530252730662,
    0.4129986334252779,
    0.2336966029302996,
    0.7123411901554516,
    0.15412753771356147,
    0.44881929045708924,
    0.7917872946356084,
    0.4958973984039856,
    0.46966918097821786,
    0.826533866965674,
    0.26052473240439555,
    0.2905344101892321,
    0.8812382359636094,
    0.37421581595504827,
    0.37724350130674067,
    0.21475117201163108,
    0.5585092531954278,
    0.945309950466047,
    0.5770767149941993,
    0.9800199697514475,
    0.06263706666546898,
    0.4748205493417792,
    0.4238530992986832,
    0.4174274345542026,
    0.4932518264958463,
    0.9538349822523547,
    0.11996636028216578,
    0.9050205448783756,
    0.0587489826760792,
    0.17437462048147823,
    0.30486170851126304,
    0.9266556930157467,
    0.16297101313752793,
    0.31762819451723645,
    0.0810185411652582,
    0.19300831584404543,
    0.7161160381163262,
    0.4268763994995851,
    0.9372768628928141,
    0.36274948524856954,
    0.2565786477790901,
    0.1636759653961568,
    0.09812569513339131,
    0.6072413216992929,
    0.5078053594784466,
    0.49014726396118335,
    0.8860179345399823,
    0.6518860869104197,
    0.8764561375941885,
    0.12935863355819932,
    0.28554174752325856,
    0.2919289262404322,
    0.8312333983915555,
    0.8071117368491452,
    0.33642739313120207,
    0.548013326753916,
    0.7448177378309181,
    0.1786764963476869,
    0.4736458092813851,
    0.16130240233503335,
    0.7336112109460746,
    0.43634693891767784,
    0.588060618317729,
    0.8562589693362411,
    0.2911886294286137,
    0.14723502352169393,
    0.12261861865708668,
    0.843162286138647,
    0.20458936306642006,
    0.9978029360628188,
    0.834166241030425,
    0.5156861624972711,
    0.08111419052759428,
    0.6387779146262252,
    0.6869807753019965,
    0.5204409075037564,
    0.4795730296255325,
    0.22411758757484668,
    0.13648437263545166,
    0.0778195823353458,
    0.9080915499307782,
    0.7906639873578566,
    0.9963129227008971,
    0.9523741358552732,
    0.4948277257523219,
    0.23764556925543678,
    0.9129112180216695,
    0.20378554418560813,
    0.07045917810755742,
    0.9444239584042983,
    0.8246093982729719
  ]

const random = () => {
    return randoms.pop()
}



export class Perlin {
    gradients = {}
    memory = {}

    private randVector() {
        const theta = random() * 2 * Math.PI;
        return {x: Math.cos(theta), y: Math.sin(theta)};
    }

    private dotProdGrid(x: number, y: number, vx: number, vy: number) {
        let g_vect;
        let d_vect = {x: x - vx, y: y - vy};
        if (this.gradients[[vx,vy].join('/')]){
            g_vect = this.gradients[[vx,vy].join('/')];
        } else {
            g_vect = this.randVector();
            this.gradients[[vx, vy].join('/')] = g_vect;
        }
        return d_vect.x * g_vect.x + d_vect.y * g_vect.y;
    }

    private smootherstep(x: number) {
        return 6*x**5 - 15*x**4 + 10*x**3;
    }

    private interp(x: number, a: number, b: number){
        return a + this.smootherstep(x) * (b-a);
    }

    public get(x: number, y: number): number {
        if (this.memory.hasOwnProperty([x,y].join('/')))
            return this.memory[[x,y].join('/')];
        let xf = Math.floor(x);
        let yf = Math.floor(y);
        //interpolate
        let tl = this.dotProdGrid(x, y, xf,   yf);
        let tr = this.dotProdGrid(x, y, xf+1, yf);
        let bl = this.dotProdGrid(x, y, xf,   yf+1);
        let br = this.dotProdGrid(x, y, xf+1, yf+1);
        let xt = this.interp(x-xf, tl, tr);
        let xb = this.interp(x-xf, bl, br);
        let v = this.interp(y-yf, xt, xb);
        this.memory[[x,y].join('/')] = v;
        return v;
    }
}

export const perlin = new Perlin();